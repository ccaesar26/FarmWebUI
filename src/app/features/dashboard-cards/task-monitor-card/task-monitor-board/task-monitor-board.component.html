<!-- task-monitor-board.component.html -->
<div class="flex overflow-x-auto w-full">  <!-- Horizontal scrolling container -->
  <div *ngFor="let status of taskStatuses" class="flex-shrink-0 w-1/3"> <!-- Fixed width columns -->
    <div class="rounded-xl p-2 m-2" [ngClass]="getStatusColor(status)"> <!-- Task status column -->
      <div class="flex justify-between items-center p-2">
        <h3 class="text-lg font-bold">{{ status }}</h3>
        <p class="text-sm text-gray-500">{{ getTasksByStatus(status).length }}</p>
      </div>
      <div class="flex flex-col gap-2">
        <p-card *ngFor="let task of getTasksByStatus(status)">
          <!-- Individual task card -->
          <div class="flex justify-between items-center">
            <div class="flex items-center gap-2">
              <i [class]="getPriorityIcon(task.priority)"></i>
              <span class="font-bold">{{ task.title }}</span>
            </div>
            <i [class]="getCategoryIcon(task.categoryName ?? '')"></i>
          </div>

          <div class="flex flex-col gap-2 my-6">
            <div class="flex flex-row gap-2">
              <i class="pi pi-user"></i>
              <p class="text-sm">{{ task.assignedUserNames }}</p>
            </div>
            <div class="flex flex-row gap-2 items-center">
              <i class="pi pi-calendar-clock"></i>
              <p class="text-sm" *ngIf="task.dueDate != null && task.dueDate?.length != 0">Due
                at {{ task.dueDate | date: 'HH:mm, dd.MM.yyyy' }}</p>
              <p class="text-sm" *ngIf="task.dueDate == null || task.dueDate?.length == 0">No due date</p>
            </div>
            <div class="flex flex-row gap-2 items-center" *ngIf="task.fieldName != null && task.dueDate?.length != 0">
              <i class="pi pi-map-marker"></i>
              <p class="text-sm">{{ task.fieldName }}</p>
            </div>
          </div>

          <div class="flex flex-row justify-between">
            <div class="flex items-center gap-2 text-sm">
              <i class="pi pi-comments"></i>
              <span>{{ task.commentsCount }}</span>
            </div>
            <p class="text-sm text-gray-500">{{ task.createdAt | date: 'HH:mm, dd.MM.yyyy' }}</p>
          </div>
        </p-card>
      </div>
    </div>
  </div>
</div>
